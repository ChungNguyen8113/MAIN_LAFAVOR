<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Cake Template">
    <meta name="keywords" content="Cake, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Bánh theo mùa</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/img/hinh/favicon_io/favicon.ico"/>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;700&display=swap" rel="stylesheet">

     <!-- Bootstrap icons-->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Css Styles -->
    <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="../css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="../css/barfiller.css" type="text/css">
    <link rel="stylesheet" href="../css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="../css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="../css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="../css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="../css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="../css/style.css" type="text/css">
    <link rel="stylesheet" href="../css/style1.css" type="text/css">
    <!-- Core theme CSS (includes Bootstrap)-->

    <!--Script-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
</head>

<body  data-target=".navbar">
    
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="container text-center header-font">
        <span class="bicolor bi bi-geo-alt "></span> 02 Quốc lộ 1A, Phường Linh Xuân &nbsp; <span class="bicolor bi bi-telephone "></span> Đặt hàng: 1800.1000
    </div>
    <!-- Offcanvas Menu End --> 

    <!-- Header Section Begin -->
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg stick-top">
                <div class="container">
                    <a class="nav-link active navbar-brand" aria-current="page" href="/index.html">
                        <img src="/img/hinh/logo/logo.png" alt="Logo"  class="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ms-auto mx-lg-5 py-0">
                            <li class="nav-item dropdown nav-item-padding">
                                <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Menu</a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="Product-Banhquy.html">Bánh Quy</a></li>
                                    <li><a class="dropdown-item" href="Product-Banhmy.html">Bánh Mỳ</a></li>
                                    <li><a class="dropdown-item" href="Product-Banhtheomua.html">Bánh Theo Mùa</a></li>
                                    <li><a class="dropdown-item" href="Product-Banhcombo.html">Combo</a></li>
                                    <li><a class="dropdown-item" href="Product-Banhkhac.html">Sản Phẩm Khác</a></li>
                                </ul>
                            </li>
                            <li class="nav-item nav-item-padding"><a class="nav-link" href="Blog.html">Blog</a></li>
                            <li class="nav-item nav-item-padding"><a class="nav-link" href="About.html">Về chúng tôi</a></li>
                            <li class="nav-item nav-item-padding"><a class="nav-link" href="Contact.html">Liên hệ</a></li>
                        </ul>   
                        <ul class="nav navbar-nav d-flex ms-auto">                   
                            <li class="nav-item">
                                <a class="nav-link" href="Cart.html">
                                    <span class="bi bi-cart"></span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="Account.html">
                                    <span class="bi bi-person"></span>
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link" id="navbarform" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><span class="bi bi-search"></span></a>
                                <form class="dropdown-menu" aria-labelledby="navbarform">
                                    <input class="form-control me-2" type="text" placeholder="Search">
                                </form>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>                           
            <!--Navigation End-->
        <!-- Header Section End -->

    <!-- Categories Section Begin -->
    <div class="categories">
        <div class="container">
            <div class="row">
                <div class="categories__slider owl-carousel">
                    <div class="categories__item">
                        <div class="categories__item__icon">
                            <a href='/src/Product.html'><span class="flaticon-005-pancake"></span><h5>Tất cả</h5></a>
                        </div>
                    </div>
                    <div class="categories__item">
                        <div class="categories__item__icon">
                            <a href='/src/Product-Banhmy.html'><span class="flaticon-034-chocolate-roll"></span><h5>Bánh mì</h5></a>
                        </div>
                    </div>
                    <div class="categories__item">
                        <div class="categories__item__icon">
                            <a href='/src/Product-Banhquy.html'><span class="flaticon-030-cupcake-2"></span><h5>Bánh quy</h5></a>
                        </div>
                    </div>
                    <div class="categories__item">
                        <div class="categories__item__icon">
                            <a href='/src/Product-Banhtheomua.html'><span class="flaticon-005-pancake"></span><h5>Bánh theo mùa</h5></a>
                        </div>
                    </div>
                    
                    <div class="categories__item">
                        <div class="categories__item__icon">
                            <a href='/src/Product-Banhkhac.html'></a> <span class="flaticon-029-cupcake-3"></span><h5>Bánh khác</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Categories Section End -->

    <!-- Shop Section Begin -->
    <section class="shop spad">
        <div class="container">
            <div class="shop__option">
                <div class="row">
                    <div class="col-lg-7 col-md-7">
                        <div class="shop__option__search">
                            <form action="#" onsubmit="return false;">
                                <input type="text" id="searchInput" placeholder="Tìm kiếm" style="margin-top: 0px" oninput="searchAndSort()">
                                <button type="submit"><i class="fa fa-search"></i></button>
                            </form>
                        </div>
                    </div>    
                    <div class="col-lg-5 col-md-5">
                        <div class="shop__option__right">
                            <select id="sortOption" onchange="sortProducts()">
                                <option value="default">Mặc định sắp xếp</option>
                                <option value="price">Sắp xếp theo giá</option>
                                <option value="name">Sắp xếp theo tên</option>
                            </select>
                        </div>
                    </div>         
                </div>
            </div>
            <section class="shop spad">
                <div class="container">
                    <div class="row" id="productContainer">
                    <!-- Các sản phẩm sẽ được tạo động ở đây -->
                    </div>
                    <div class="shop__last__option">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__pagination" id="pagination">
                                <!-- Các liên kết phân trang sẽ được tạo động ở đây -->
                                </div>
                            </div>
                            <!-- <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__last__text">
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
                    </div>
                </div>
            
                <script>
                    
document.addEventListener("DOMContentLoaded", function () {
    const jsonFilePath = "/json/ProductCategory.json";

    let allProducts; // Danh sách sản phẩm gốc
    let displayedProducts; // Danh sách sản phẩm hiển thị sau khi tìm kiếm

    fetch(jsonFilePath)
        .then(response => response.json())
        .then(data => {
            allProducts = [].concat(
                data.banhtheomua
            );

            // Ban đầu, danh sách hiển thị giống như danh sách gốc
            displayedProducts = [...allProducts];

            const productContainer = document.getElementById('productContainer');
            const searchInput = document.getElementById('searchInput');
            const sortOption = document.getElementById('sortOption');

            searchInput.addEventListener('input', function () {
                const searchTerm = this.value.toLowerCase();

                // Lọc sản phẩm theo điều kiện tìm kiếm
                displayedProducts = allProducts.filter(product =>
                    product.name.toLowerCase().includes(searchTerm)
                );

                // Sắp xếp và hiển thị sản phẩm sau khi tìm kiếm
                sortAndDisplay();
            });

            sortOption.addEventListener('change', function () {
                // Sắp xếp và hiển thị sản phẩm sau khi tìm kiếm
                sortAndDisplay();
            });

            window.sortProducts = sortAndDisplay;

            function displayProducts(productList) {
                productContainer.innerHTML = '';

                productList.forEach(product => {
                    const productItem = createProductElement(product);
                    productContainer.appendChild(productItem);
                });
            }

            function createProductElement(product) {
                const productItem = document.createElement('div');
                productItem.className = 'col-lg-3 col-md-6 col-sm-6';
                productItem.innerHTML = `
                    <div class="product__item">
                        <div class="product__item__pic set-bg" style="background: url(${product.image})">
                            <div class="product__label">
                                <span>${product.label}</span>
                            </div>
                        </div>
                        <br/>
                        <div class="product__item__text">
                            <h6><a href="#">${product.name}</a></h6>
                            <div class="product__item__price">${product.price} VND</div>
                            <div class="cart_add">
                                <a href="#">Thêm vào giỏ hàng</a>
                            </div>
                        </div>
                    </div>
                `;
                return productItem;
            }

            function sortAndDisplay() {
                const selectedOption = sortOption.value;
                console.log('Selected Option:', selectedOption);
            
                // Sắp xếp danh sách sản phẩm hiển thị
                displayedProducts.sort((a, b) => {
                    if (selectedOption === 'price') {
                        console.log('Sorting by Price');
                        console.log('a.price:', a.price);
                        console.log('b.price:', b.price);
                        return parseFloat(a.price) - parseFloat(b.price);
                    } else if (selectedOption === 'name') {
                        console.log('Sorting by Name');
                        return a.name.localeCompare(b.name);
                    }
                });
            
                // Hiển thị danh sách sản phẩm đã sắp xếp
                displayProducts(displayedProducts);
            }
            // Hiển thị toàn bộ danh sách sản phẩm khi tải trang
            displayProducts(allProducts);
        })
        .catch(error => console.error('Lỗi khi lấy thông tin sản phẩm:', error));
});

                </script>
            </section>
            
            <div class="shop__last__option">
                
    <!--Navigation Footer Begin-->
    <footer class="footer bgimg  footer-font" style="background-image: url(/img/hinh/image/footer-bg.jpg);">
        <div class="container">
            <div class="row"> &nbsp; </div>
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer__widget">
                        <h7> <b>Giờ hoạt động </b></h7>
                        <ul>
                            <li>Thứ 2 - Thứ 6: 08:00 am – 08:30 pm</li>
                            <li>Thứ 7: 10:00 am – 16:30 pm</li>
                            <li>Chủ nhật: 10:00 am – 16:30 pm</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="#"><img src="/img/Hinh/logo/logo.png" alt="logo" class="logo"></a>
                        </div>
                        <h7>Thương hiệu bánh Pháp hàng đầu Lafavor cam kết mang lại trải nghiệm tuyệt vời nhất đến với khách hàng.</h7>                            
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer__contact">
                        <h7> <b>Contact</b></h7> <br/>
                        <h7>Theo dõi để nhận thông tin mới nhất.</h7>
                        <div class="footer__social">
                            <a href="#"><i class="bi bi-facebook bicolor"></i></a>
                            <a href="#"><i class="bi bi-twitter bicolor"></i></a>
                            <a href="#"><i class="bi bi-instagram bicolor"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>           
        </div>
    </div>
</footer>
<!--Navigation Footer End-->

<!-- Search Begin -->
<div class="search-model">
    <div class="h-100 d-flex align-items-center justify-content-center">
        <div class="search-close-switch">+</div>
        <form class="search-model-form">
            <input type="text" id="search-input" placeholder="Search here.....">
        </form>
    </div>
</div>
<!-- Search End -->

<!-- Js Plugins -->
<script src="../js/jquery-3.3.1.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/jquery.nice-select.min.js"></script>
<script src="../js/jquery.barfiller.js"></script>
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/jquery.slicknav.js"></script>
<script src="../js/owl.carousel.min.js"></script>
<script src="../js/jquery.nicescroll.min.js"></script>
<script src="../js/main.js"></script>
</body>

</html>